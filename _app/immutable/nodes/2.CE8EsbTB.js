var ht=Object.defineProperty;var qe=i=>{throw TypeError(i)};var ut=(i,e,t)=>e in i?ht(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var J=(i,e,t)=>ut(i,typeof e!="symbol"?e+"":e,t),Ke=(i,e,t)=>e.has(i)||qe("Cannot "+t);var r=(i,e,t)=>(Ke(i,e,"read from private field"),t?t.call(i):e.get(i)),D=(i,e,t)=>e.has(i)?qe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),C=(i,e,t,a)=>(Ke(i,e,"write to private field"),a?a.call(i,t):e.set(i,t),t);import{t as me,a as pe}from"../chunks/CfyfeUdA.js";import{s as Je,j as Qe,m as gt,o as Ne,p as pt,b as yt,v as De,h as R,w as _t,z as mt,P as A,af as xt,a6 as bt,a7 as Ze,t as Ce,f as we,A as wt,a8 as it,d as at,a9 as Tt,ar as Pe,F as st,as as St,am as kt,$ as $e,k as Et,at as It,au as At,D as zt,av as Lt,e as Mt,aw as Dt,ax as Ct,r as Pt,ay as Ot,az as Gt,a5 as Nt,aA as Rt,aB as Bt,a as lt,ab as rt,I as ke,u as ye,ap as ve,V as m,X as d,W as p,U as He,a2 as X,J as Ee,g as nt,R as Ht,aC as Ft}from"../chunks/BnvAo4G9.js";import{d as ot,s as Wt,a as Ut}from"../chunks/C8RjIbxM.js";import{p as Le,b as j,a as U,i as Vt}from"../chunks/BonAO-cW.js";import{o as Yt}from"../chunks/BhwMF_Sa.js";let je=!1;function vt(){je||(je=!0,document.addEventListener("reset",i=>{Promise.resolve().then(()=>{var e;if(!i.defaultPrevented)for(const t of i.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Xt(i){var e=gt,t=Ne;Je(null),Qe(null);try{return i()}finally{Je(e),Qe(t)}}function dt(i,e,t,a=t){i.addEventListener(e,()=>Xt(t));const s=i.__on_r;s?i.__on_r=()=>{s(),a(!0)}:i.__on_r=()=>a(!0),vt()}function qt(i,e){return e}function Kt(i,e,t,a){for(var s=[],l=e.length,n=0;n<l;n++)At(e[n].e,s,!0);var h=l>0&&s.length===0&&t!==null;if(h){var u=t.parentNode;zt(u),u.append(t),a.clear(),Q(i,e[0].prev,e[l-1].next)}Lt(s,()=>{for(var f=0;f<l;f++){var v=e[f];h||(a.delete(v.k),Q(i,v.prev,v.next)),Mt(v.e,!h)}})}function Jt(i,e,t,a,s,l=null){var n=i,h={flags:e,items:new Map,first:null};{var u=i;n=R?De(_t(u)):u.appendChild(pt())}R&&mt();var f=null,v=!1,y=xt(()=>{var c=t();return Et(c)?c:c==null?[]:st(c)});yt(()=>{var c=A(y),g=c.length;if(v&&g===0)return;v=g===0;let x=!1;if(R){var k=n.data===bt;k!==(g===0)&&(n=Ze(),De(n),Ce(!1),x=!0)}if(R){for(var z=null,b,w=0;w<g;w++){if(we.nodeType===8&&we.data===wt){n=we,x=!0,Ce(!1);break}var O=c[w],T=a(O,w);b=ct(we,h,z,null,O,T,w,s,e,t),h.items.set(T,b),z=b}g>0&&De(Ze())}R||Qt(c,h,n,s,e,a,t),l!==null&&(g===0?f?it(f):f=at(()=>l(n)):f!==null&&Tt(f,()=>{f=null})),x&&Ce(!0),A(y)}),R&&(n=we)}function Qt(i,e,t,a,s,l,n){var h=i.length,u=e.items,f=e.first,v=f,y,c=null,g=[],x=[],k,z,b,w;for(w=0;w<h;w+=1){if(k=i[w],z=l(k,w),b=u.get(z),b===void 0){var O=v?v.e.nodes_start:t;c=ct(O,e,c,c===null?e.first:c.next,k,z,w,a,s,n),u.set(z,c),g=[],x=[],v=c.next;continue}if(Zt(b,k,w),b.e.f&Pe&&it(b.e),b!==v){if(y!==void 0&&y.has(b)){if(g.length<x.length){var T=x[0],M;c=T.prev;var B=g[0],H=g[g.length-1];for(M=0;M<g.length;M+=1)et(g[M],T,t);for(M=0;M<x.length;M+=1)y.delete(x[M]);Q(e,B.prev,H.next),Q(e,c,B),Q(e,H,T),v=T,c=H,w-=1,g=[],x=[]}else y.delete(b),et(b,v,t),Q(e,b.prev,b.next),Q(e,b,c===null?e.first:c.next),Q(e,c,b),c=b;continue}for(g=[],x=[];v!==null&&v.k!==z;)v.e.f&Pe||(y??(y=new Set)).add(v),x.push(v),v=v.next;if(v===null)continue;b=v}g.push(b),c=b,v=b.next}if(v!==null||y!==void 0){for(var F=y===void 0?[]:st(y);v!==null;)v.e.f&Pe||F.push(v),v=v.next;var q=F.length;if(q>0){var ee=h===0?t:null;Kt(e,F,ee,u)}}Ne.first=e.first&&e.first.e,Ne.last=c&&c.e}function Zt(i,e,t,a){St(i.v,e),i.i=t}function ct(i,e,t,a,s,l,n,h,u,f){var v=(u&Dt)!==0,y=(u&Ct)===0,c=v?y?kt(s):$e(s):s,g=u&It?$e(n):n,x={i:g,v:c,k:l,a:null,e:null,prev:t,next:a};try{return x.e=at(()=>h(i,c,g,f),R),x.e.prev=t&&t.e,x.e.next=a&&a.e,t===null?e.first=x:(t.next=x,t.e.next=x.e),a!==null&&(a.prev=x,a.e.prev=x.e),x}finally{}}function et(i,e,t){for(var a=i.next?i.next.e.nodes_start:t,s=e?e.e.nodes_start:t,l=i.e.nodes_start;l!==a;){var n=Pt(l);s.before(l),l=n}}function Q(i,e,t){e===null?i.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function P(i){if(R){var e=!1,t=()=>{if(!e){if(e=!0,i.hasAttribute("value")){var a=i.value;ie(i,"value",null),i.value=a}if(i.hasAttribute("checked")){var s=i.checked;ie(i,"checked",null),i.checked=s}}};i.__on_r=t,Ot(t),vt()}}function ie(i,e,t,a){var s=i.__attributes??(i.__attributes={});R&&(s[e]=i.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&i.nodeName==="LINK")||s[e]!==(s[e]=t)&&(e==="style"&&"__styles"in i&&(i.__styles={}),e==="loading"&&(i[Gt]=t),t==null?i.removeAttribute(e):typeof t!="string"&&$t(i).includes(e)?i[e]=t:i.setAttribute(e,t))}var tt=new Map;function $t(i){var e=tt.get(i.nodeName);if(e)return e;tt.set(i.nodeName,e=[]);for(var t,a=i,s=Element.prototype;s!==a;){t=Rt(a);for(var l in t)t[l].set&&e.push(l);a=Nt(a)}return e}function Re(i,e,t){if(t){if(i.classList.contains(e))return;i.classList.add(e)}else{if(!i.classList.contains(e))return;i.classList.remove(e)}}function W(i,e,t=e){var a=Bt();dt(i,"input",s=>{var l=s?i.defaultValue:i.value;if(l=Oe(i)?Ge(l):l,t(l),a&&l!==(l=e())){var n=i.selectionStart,h=i.selectionEnd;i.value=l??"",h!==null&&(i.selectionStart=n,i.selectionEnd=Math.min(h,i.value.length))}}),(R&&i.defaultValue!==i.value||lt(e)==null&&i.value)&&t(Oe(i)?Ge(i.value):i.value),rt(()=>{var s=e();Oe(i)&&s===Ge(i.value)||i.type==="date"&&!s&&!i.value||s!==i.value&&(i.value=s??"")})}function Be(i,e,t=e){dt(i,"change",a=>{var s=a?i.defaultChecked:i.checked;t(s)}),(R&&i.defaultChecked!==i.checked||lt(e)==null)&&t(i.checked),rt(()=>{var a=e();i.checked=!!a})}function Oe(i){var e=i.type;return e==="number"||e==="range"}function Ge(i){return i===""?null:+i}var I,ae,he,Se,se,Y,le,ue;const Te=class Te{constructor(e,t={},a=e){D(this,I);D(this,ae);D(this,he);D(this,Se);D(this,se);D(this,Y,{x:0,y:0});D(this,le,{x:0,y:0});D(this,ue);if(Te.existingIDs.has(a))throw Error("A Tile Atlas with this ID already exists.");C(this,he,e),C(this,I,{startOffset:{x:0,y:0},tileGap:{x:0,y:0},tileSize:{x:16,y:16},...t}),C(this,ae,a),this.loadImg()}async loadImg(){if(r(this,se))return r(this,se);const e=document.createElement("img");return C(this,se,new Promise(t=>{e.addEventListener("load",()=>{C(this,Y,{x:e.naturalWidth,y:e.naturalHeight}),t()})})),e.src=r(this,he),C(this,Se,e),r(this,se)}get img(){return r(this,Se)}get src(){return r(this,he)}get id(){return r(this,ae)}get dimensions(){return structuredClone(r(this,Y))}get settings(){return r(this,I)}set settings(e){C(this,I,e)}getTile(e){}getTilePosition(e){let t=typeof e=="number"?e:e.indexInAtlas;return{x:r(this,I).startOffset.x+(r(this,I).tileSize.x+r(this,I).tileGap.x)*(t%r(this,le).x),y:r(this,I).startOffset.y+(this.settings.tileSize.y+this.settings.tileGap.y)*Math.floor(t/r(this,le).x),w:r(this,I).tileSize.x,h:r(this,I).tileSize.y}}createTiles(){let e=0,t=0;const a=[];let s=0,l=0;for(let n=r(this,I).startOffset.y;n<r(this,Y).y&&n+r(this,I).tileSize.y<=r(this,Y).y;n+=r(this,I).tileSize.y+r(this,I).tileGap.y){s=0;for(let h=r(this,I).startOffset.x;h<r(this,Y).x&&h+r(this,I).tileSize.x<=r(this,Y).x;h+=r(this,I).tileSize.x+r(this,I).tileGap.x)a.push({type:"basic",id:e++,atlasId:r(this,ae),indexInAtlas:t++,name:`${r(this,ae)}_${t}`}),s++;l++}return r(this,le).x=s,r(this,le).y=l,C(this,ue,[...a]),a}getTiles(){return r(this,ue)||this.createTiles(),r(this,ue)}};I=new WeakMap,ae=new WeakMap,he=new WeakMap,Se=new WeakMap,se=new WeakMap,Y=new WeakMap,le=new WeakMap,ue=new WeakMap,J(Te,"existingIDs",new Set),J(Te,"selectedTiles",new Set);let de=Te;var re,ne,Z;class jt{constructor(e,t){D(this,re,[]);D(this,ne,{x:20,y:20});D(this,Z,{x:64,y:64});this.mapSize=e,this.tileSize=t}get mapSize(){return r(this,ne)}set mapSize(e){C(this,ne,e)}get tileSize(){return r(this,Z)}set tileSize(e){C(this,Z,e)}setTile(e,t){r(this,re)[t.y]||(r(this,re)[t.y]=[]),r(this,re)[t.y][t.x]=e}render(e){e.imageSmoothingEnabled=!1;for(let t=0;t<r(this,ne).y;t++)for(let a=0;a<r(this,ne).x;a++){const s=this.getTile({x:a,y:t});s&&_e.drawTile(s,e,{x:r(this,Z).x*a,y:r(this,Z).y*t},r(this,Z))}}getTile(e){var t;return(t=r(this,re)[e.y])==null?void 0:t[e.x]}}re=new WeakMap,ne=new WeakMap,Z=new WeakMap;var $,oe,ge;class ei{constructor(e,t,a){D(this,$);D(this,oe);D(this,ge);C(this,$,e),C(this,oe,t),C(this,ge,a.map(s=>typeof s=="number"?_e.getTile(s):s))}render(e){e.imageSmoothingEnabled=!1;for(let t=0;t<r(this,$).x;t++)for(let a=0;a<r(this,$).y;a++){const s=this.getTile(t,a);s&&_e.drawTile(s,e,{x:r(this,oe).x*t,y:r(this,oe).y*t},r(this,oe))}}getTile(e,t){return r(this,ge)[t*r(this,$).x+e]}setTile(e,t,a){r(this,ge)[t*r(this,$).x+e]=a}}$=new WeakMap,oe=new WeakMap,ge=new WeakMap;const L=class L{constructor(){if(L.Instance)return L.Instance;L.renderMethod.set("basic",L.drawBasicTile),L.renderMethod.set("rule",L.drawRuleTile)}static setAtlantes(e){for(const s of e)this.atlantes.set(s.id,s);let t=1;const a=new Map;for(let s of this.atlantes.values())s.getTiles().forEach(n=>{n.id=t++,a.set(n.id,n)});for(let s of this.tileIndex.values())s.type!=="basic"&&a.set(s.id,s);this.tileIndex=a}static getTile(e){return this.tileIndex.get(e)}static drawTile(e,t,a,s){var l;if(typeof e=="number"&&(e=this.tileIndex.get(e)),!!e){if(!L.renderMethod.has(e.type))throw new Error(`Cannot draw tile type "${e.type}": No known renderer.`);(l=L.renderMethod.get(e.type))==null||l(e,t,a,s)}}static drawRuleTile(e,t,a,s){}};J(L,"renderMethod",new Map),J(L,"atlantes",new Map),J(L,"tileIndex",new Map),J(L,"drawBasicTile",(e,t,a,s)=>{const l=L.atlantes.get(e.atlasId);if(!l)throw new Error(`Atlas "${e.atlasId}" not found.`);let{x:n,y:h,w:u,h:f}=l.getTilePosition(e.indexInAtlas);t.drawImage(l.img,n,h,u,f,a.x,a.y,s.x,s.y)}),J(L,"Instance",new L);let _e=L;var ti=me('<fieldset class="atlas-display svelte-1lh5lbv"><img class="img-preview svelte-1lh5lbv" alt=""> <div class="canvas-wrapper svelte-1lh5lbv"><canvas></canvas> <canvas class="canvas-overlay svelte-1lh5lbv"></canvas></div> <div class="settings-wrapper svelte-1lh5lbv"><fieldset><legend>Tile Size</legend> <label>width <input type="number" min="0" class="svelte-1lh5lbv"></label> <label>height <input type="number" min="0" class="svelte-1lh5lbv"></label></fieldset> <fieldset><legend>Tile Gap</legend> <label>width <input type="number" class="svelte-1lh5lbv"></label> <label>height <input type="number" class="svelte-1lh5lbv"></label></fieldset> <fieldset><legend>Offset</legend> <label>width <input type="number" class="svelte-1lh5lbv"></label> <label>height <input type="number" width="5" class="svelte-1lh5lbv"></label></fieldset> <fieldset><legend>Display Settings</legend> <label>show numbers <input type="checkbox"></label> <label>show lines <input type="checkbox"></label></fieldset></div></fieldset>');function ii(i,e){ke(e,!0);let t=Le(e,"atlas",15),a,s,l,n,h=[],u=new Set,f,v=ve(!0),y=ve(!0);ye(()=>{l.addEventListener("click",()=>{e.activate(t()),de.selectedTiles.clear(),u.forEach(o=>de.selectedTiles.add(o))}),s.addEventListener("pointermove",c),s.addEventListener("pointerleave",g),s.addEventListener("pointerup",x),s.addEventListener("contextmenu",o=>o.preventDefault()),n=s.getContext("2d")}),ye(()=>{const o=a.getContext("2d");o.clearRect(0,0,a.width,a.height),o.drawImage(t().img,0,0),o.lineWidth=1,o.strokeStyle="rgba(0, 0, 0, 0.5)",o.textAlign="right",h=t().createTiles();for(let S of h){let{x:G,y:N,w:K,h:ze}=t().getTilePosition(S);A(y)&&o.strokeRect(G,N,K,ze),A(v)&&o.fillText(S.id.toString(),G+K-1,N+ze-1,K)}});function c(o){const S=z(o);if(!S)return g();f=S,k()}function g(){f=void 0,k()}function x(o){const S=z(o);S&&(o.ctrlKey?u.has(S)?u.delete(S):u.add(S):u.has(S)&&u.size===1?u.clear():(u.clear(),u.add(S)),k())}function k(){if(n.clearRect(0,0,s.width,s.height),f){n.fillStyle="rgba(255, 255, 255, 0.5)";let{x:o,y:S,w:G,h:N}=t().getTilePosition(f);n.fillRect(o,S,G,N)}for(let o of u.values()){n.strokeStyle="rgba(255, 0, 0, 1)",n.lineWidth=1;let{x:S,y:G,w:N,h:K}=t().getTilePosition(o);n.strokeRect(S,G,N,K)}}function z(o){const S=s.getBoundingClientRect(),G=o.clientX-S.left,N=o.clientY-S.top;return b(G,N)}function b(o,S){for(let G of h){let{x:N,y:K,w:ze,h:ft}=t().getTilePosition(G);if(o>N&&o<N+ze&&S>K&&S<K+ft)return G}}var w=ti(),O=m(w),T=d(O,2),M=m(T);j(M,o=>a=o,()=>a);var B=d(M,2);j(B,o=>s=o,()=>s),p(T);var H=d(T,2),F=m(H),q=d(m(F),2),ee=d(m(q));P(ee),p(q);var xe=d(q,2),be=d(m(xe));P(be),p(xe),p(F);var ce=d(F,2),fe=d(m(ce),2),Ie=d(m(fe));P(Ie),p(fe);var Ae=d(fe,2),_=d(m(Ae));P(_),p(Ae),p(ce);var E=d(ce,2),V=d(m(E),2),te=d(m(V));P(te),p(V);var Fe=d(V,2),We=d(m(Fe));P(We),p(Fe),p(E);var Ue=d(E,2),Me=d(m(Ue),2),Ve=d(m(Me));P(Ve),p(Me);var Ye=d(Me,2),Xe=d(m(Ye));P(Xe),p(Ye),p(Ue),p(H),p(w),j(w,o=>l=o,()=>l),He(()=>{Re(w,"active",e.active),ie(O,"src",t().src),ie(M,"width",t().img.naturalWidth),ie(M,"height",t().img.naturalHeight),ie(B,"width",t().img.naturalWidth),ie(B,"height",t().img.naturalHeight)}),W(ee,()=>t().settings.tileSize.x,o=>t(t().settings.tileSize.x=o,!0)),W(be,()=>t().settings.tileSize.y,o=>t(t().settings.tileSize.y=o,!0)),W(Ie,()=>t().settings.tileGap.x,o=>t(t().settings.tileGap.x=o,!0)),W(_,()=>t().settings.tileGap.y,o=>t(t().settings.tileGap.y=o,!0)),W(te,()=>t().settings.startOffset.x,o=>t(t().settings.startOffset.x=o,!0)),W(We,()=>t().settings.startOffset.y,o=>t(t().settings.startOffset.y=o,!0)),Be(Ve,()=>A(v),o=>X(v,o)),Be(Xe,()=>A(y),o=>X(y,o)),pe(i,w),Ee()}var ai=me('<input type="file" name="import" id="import" accept="image/png" multiple> <div id="atlantes-wrapper"></div>',1);function si(i,e){ke(e,!0);let t,a=Le(e,"atlantes",27,()=>U([])),s=Le(e,"activeAtlas",15);async function l(y){if(t.files)for(let c of t.files){let g=await n(c),x=U({startOffset:{x:0,y:0},tileGap:{x:0,y:0},tileSize:{x:16,y:16}});const k=new de(g,x,Math.random().toString());await k.loadImg(),a().push(k),s(k)}}async function n(y){return new Promise(c=>{const g=new FileReader;g.onload=()=>c(g.result),g.readAsDataURL(y)})}function h(y){s(y)}var u=ai(),f=nt(u);f.__change=l,j(f,y=>t=y,()=>t);var v=d(f,2);Jt(v,21,a,qt,(y,c)=>{const g=Ht(()=>s()==A(c));ii(y,{get atlas(){return A(c)},activate:h,get active(){return A(g)}})}),p(v),pe(i,u),Ee()}ot(["change"]);var li=me('<div id="tile-info" class="svelte-15zap0v"> </div>'),ri=me('<div id="sheet-wrapper" class="svelte-15zap0v"><fieldset><fieldset><legend>Tile Size</legend> <label>width<input type="number" min="0"></label> <label>height<input type="number" min="0"></label></fieldset> <fieldset><legend>Sheet Size</legend> <label>width<input type="number" min="0"></label> <label>height<input type="number" min="0"></label></fieldset> <fieldset><legend>Display Settings</legend> <label>show lines <input type="checkbox"></label></fieldset></fieldset> <canvas id="sheet-canvas" class="svelte-15zap0v"></canvas> <!></div>');function ni(i,e){ke(e,!0);let t=U({x:20,y:20}),a=U({x:16,y:16}),s=Le(e,"sheet",27,()=>U(new jt(t,a))),l,n,h=ve(void 0),u=ve(!0),f;ye(()=>{l.addEventListener("pointermove",v),l.addEventListener("pointerleave",y),l.addEventListener("pointerup",c),l.addEventListener("contextmenu",E=>E.preventDefault()),n=l.getContext("2d");let _=l.getBoundingClientRect();l.width=_.width,l.height=_.height,a.x&&a.y&&(f=void 0,console.log("reset path")),x()});function v(_){}function y(_){}function c(_){const E=g(_),V={x:Math.floor(E.x/a.x),y:Math.floor(E.y/a.y)};if(de.selectedTiles.size>0){const te=Array.from(de.selectedTiles.values())[0];s().setTile(te,V),X(h,U(te))}else{const te=s().getTile(V);X(h,U(te))}x()}function g(_){const E=l.getBoundingClientRect();return{x:_.clientX-E.left,y:_.clientY-E.top}}function x(){if(n.clearRect(0,0,l.width,l.height),s().render(n),n.strokeStyle="rgba(0, 0, 0, 0.5)",n.lineWidth=1,!f){f=new Path2D;for(let _=0;_<t.y;_++)for(let E=0;E<t.x;E++)f.moveTo(E*a.x,_*a.y+a.y),f.lineTo(E*a.x,_*a.y),f.lineTo(E*a.x+a.x,_*a.y);f.moveTo(0,t.y*a.y),f.lineTo(t.x*a.x,t.y*a.y),f.lineTo(t.x*a.x,0)}A(u)&&n.stroke(f)}var k=ri(),z=m(k),b=m(z),w=d(m(b),2),O=d(m(w));P(O),p(w);var T=d(w,2),M=d(m(T));P(M),p(T),p(b);var B=d(b,2),H=d(m(B),2),F=d(m(H));P(F),p(H);var q=d(H,2),ee=d(m(q));P(ee),p(q),p(B);var xe=d(B,2),be=d(m(xe),2),ce=d(m(be));P(ce),p(be),p(xe),p(z);var fe=d(z,2);j(fe,_=>l=_,()=>l);var Ie=d(fe,2);{var Ae=_=>{var E=li(),V=m(E);p(E),He(()=>Wt(V,`${A(h).id??""}, ${A(h).type??""}`)),pe(_,E)};Vt(Ie,_=>{A(h)&&_(Ae)})}p(k),W(O,()=>a.x,_=>a.x=_),W(M,()=>a.y,_=>a.y=_),W(F,()=>t.x,_=>t.x=_),W(ee,()=>t.y,_=>t.y=_),Be(ce,()=>A(u),_=>X(u,_)),pe(i,k),Ee()}var oi=me('<button>update</button> <canvas width="500" height="500"></canvas>',1);function vi(i,e){ke(e,!0);let t,a;Yt(()=>{a=t.getContext("2d")}),ye(()=>{e.map.render(a)});function s(){e.map.render(a)}var l=oi(),n=nt(l);n.__click=s;var h=d(n,2);j(h,u=>t=u,()=>t),pe(i,l),Ee()}ot(["click"]);var di=me('<div id="outer-wrapper" class="svelte-1m8kp7h"><h1 class="svelte-1m8kp7h"><a href="https://github.com/hs-furtwangen/FUDGE" target="_blank" rel="noopener noreferrer">FUDGE</a> Tilemap Editor</h1> <div class="tabs svelte-1m8kp7h"><div class="tab svelte-1m8kp7h" id="tab-atlas"><h2 class="svelte-1m8kp7h">Tile Atlas</h2> <div class="tab-content svelte-1m8kp7h"><!></div></div> <div class="tab shown svelte-1m8kp7h" id="tab-sheet"><h2 class="svelte-1m8kp7h">Tile Sheet</h2> <div class="tab-content svelte-1m8kp7h"><!></div></div> <div class="tab svelte-1m8kp7h" id="tab-map"><h2 class="svelte-1m8kp7h">Tile Map</h2> <div class="tab-content svelte-1m8kp7h"><!></div></div></div></div>');function yi(i,e){ke(e,!0);let t=ve(U([])),a,s=ve(!0),l,n=ve(void 0),h;ye(()=>{a.addEventListener("pointerup",()=>{X(s,!0)}),l.addEventListener("pointerup",()=>{X(s,!1)})});let u=new ei({x:5,y:5},{x:64,y:64},[1,2,2,2,3,9,10,10,10,11,9,10,10,10,11,9,10,10,10,11,17,18,18,18,19]);ye(()=>{_e.setAtlantes(A(t))});var f=di();Ut(T=>{Ft.title="FUDGE Tilemap Editor"});var v=d(m(f),2),y=m(v),c=d(m(y),2),g=m(c);si(g,{get atlantes(){return A(t)},set atlantes(T){X(t,U(T))},get activeAtlas(){return A(n)},set activeAtlas(T){X(n,U(T))}}),p(c),p(y),j(y,T=>a=T,()=>a);var x=d(y,2),k=d(m(x),2),z=m(k);ni(z,{get sheet(){return h},get selectedAtlas(){return A(n)}}),p(k),p(x);var b=d(x,2),w=d(m(b),2),O=m(w);vi(O,{map:u}),p(w),p(b),j(b,T=>l=T,()=>l),p(v),p(f),He(()=>{Re(y,"shown",A(s)),Re(b,"shown",!A(s))}),pe(i,f),Ee()}export{yi as component};
